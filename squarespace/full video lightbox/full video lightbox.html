<script name="full video lightbox" author="cregox.com">
  // to use it, create a gallery block, make it a grid and check the Lightbox
  // it doesn't matter how many items you add, we'll only use the first one
  // now add an item to it, either with the plus button or from another gallery
  // finally create a new block before the gallery block and add a link to it
  // with this:
  // javascript:jqueryLightbox();
  //
  // for more info, visit www.cregox.com/full-video
  
  $(document).ready(function(){
    $('a[href^="javascript:jqueryLightbox()"]').each(function(){
      var $videoButton = $(this);
      var $galleryLightbox = $videoButton.below('.sqs-block-gallery');
      $galleryLightbox.hide();
      $videoButton.click(function(){
        $galleryLightbox.find('img').click();
      });
      $videoButton.attr('href', 'javascript:');
      $videoButton.addClass('lightboxed');
    });
  });
  
  function jqueryLightbox () {
    alert('jQuery not loaded');
  }  
  
  var videoRatio = NaN;
  var $iframeVideo = null;
  $(document).bind('DOMSubtreeModified',function(){
    if ($('div.intrinsic-inner>iframe').length > 0) {
      $iframeVideo = $('div.intrinsic-inner>iframe');
      videoRatio = $iframeVideo.outerWidth() / $iframeVideo.outerHeight();
      $(window).resize();
    }
  });
  $(window).resize(function(){
    var windowRatio = $(window).outerWidth() / $(window).outerHeight();
    if (videoRatio > windowRatio) {
      $('div.sqs-video-wrapper.video-fit div.intrinsic').css({
        'width': $(window).outerHeight() * videoRatio
      }).find('iframe').css({
        'left': ( ($(window).outerWidth() / 2) - ($iframeVideo.outerWidth() / 2) )+'px'
      });
    } else {
      $('div.sqs-video-wrapper.video-fit div.intrinsic').css({
        'width': '100%'
      }).find('iframe').css({
        'left': 0
      });
    }
  });
</script>
<style>
  div.sqs-lightbox-slideshow div.sqs-lightbox-padder {
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
  }
  div.sqs-lightbox-slideshow div.sqs-video-wrapper.video-fit {
    min-width: 100% !important;
    min-height: 100% !important;
    width: inherit !important;
    height: 100% !important;
    left: 0 !important;
    top: inherit !important;
  }
</style>