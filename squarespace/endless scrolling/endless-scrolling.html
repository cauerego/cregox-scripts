<script src="https://cdn.rawgit.com/cregox/endless-scrolling/master/endless-scrolling.min.js"></script>

<script src="http://cdnjs.cloudflare.com/ajax/libs/masonry/3.3.0/masonry.pkgd.min.js"></script>
<script src="https://cdn.rawgit.com/desandro/imagesloaded/master/imagesloaded.pkgd.min.js"></script>
<script src="https://cdn.rawgit.com/aFarkas/lazysizes/gh-pages/lazysizes.min.js"></script>
<style>
  .summary-item-list {
    display: none;
  }
</style>
<script name="endless scrolling" author="cregox.com">
  Y.use('node', function()
  {
    Y.on('domready', function()
    {
      // enable Custom CSS to work on editor
      Y.one('main#main').addClass('endless-scrolling');

      // prevent script from running in squarespace editor
      if (window.top.document !== window.document)
      {
        Y.one('main#main .summary-item-list').setStyle('display', 'block'); // with style, prevented summary to appear
        return;
      }
    
      Y.one('footer#footer').hide().setStyles({
        'position': 'absolute',
        'bottom': 0,
        'left': '50px',
        'right': '50px'
      });

      endlessScrolling({
        'thumbSize': 300,
        'loadingMargin': 500,
        'container': 'main#main .wrapper',
        'item': '.summary-item'
      });
    })
  });
</script>